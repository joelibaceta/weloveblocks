<script>
    var zeros = (m, n) => [...Array(m)].map(e => Array(n).fill(0));

    var arGrid = <%= @challenge.map_grid || "zeros(18, 18)"%> ;
    var objGrid = <%= @challenge.objects_grid || "zeros(18, 18)"%> ;
 
</script>


<svg xmlns="http://www.w3.org/2000/svg" width="176.477" height="45.5"><g data-name="Grupo 2"><g data-name="Rectángulo 1" fill="#597a98" stroke="#fff"><path stroke="none" d="M27.884 10.338l10.288 10.288-10.288 10.289-10.288-10.289z"/><path fill="none" d="M27.884 11.045l9.581 9.581-9.581 9.582-9.581-9.582z"/></g><g data-name="Rectángulo 2" fill="#5e92c3" stroke="#fff"><path stroke="none" d="M38.222 0L48.51 10.288 38.222 20.577 27.934 10.288z"/><path fill="none" d="M38.222.707l9.581 9.581-9.581 9.582-9.581-9.582z"/></g><g data-name="Rectángulo 3" fill="#87a7c3" stroke="#fff"><path stroke="none" d="M17.546 0l10.288 10.288-10.288 10.289L7.258 10.288z"/><path fill="none" d="M17.546.707l9.581 9.581-9.581 9.582-9.581-9.582z"/></g><g data-name="Trazado 1" fill="#5b7083"><path d="M16.996 33.835l-9.288-9.288V11.545l9.288 9.288v13.002z"/><path d="M8.208 12.752V24.34l8.288 8.288V21.04l-8.288-8.288m-1-2.414l10.288 10.288v14.416L7.208 24.754V10.338z" fill="#fff"/></g><g data-name="Trazado 2" fill="#415669"><path d="M27.334 44.172l-9.288-9.288V21.882l9.288 9.288v13.002z"/><path d="M18.546 23.09v11.587l8.288 8.288V31.377l-8.288-8.288m-1-2.414l10.288 10.288V45.38L17.546 35.091V20.675z" fill="#fff"/></g><g data-name="Trazado 3" fill="#8ea2b4"><path d="M28.434 44.293V31.17l9.288-9.288v13.122l-9.288 9.289z"/><path d="M37.222 23.09l-8.288 8.287v11.708l8.288-8.288V23.09m1-2.414v14.537L27.934 45.5V30.963l10.288-10.288z" fill="#fff"/></g><g data-name="Trazado 4" fill="#8ea9c3"><path d="M38.77 33.956V20.833l9.289-9.288v13.122l-9.288 9.289z"/><path d="M47.559 12.752l-8.288 8.288v11.708l8.288-8.288V12.752m1-2.414v14.537L38.271 35.163V20.626l10.288-10.288z" fill="#fff"/></g></g><text data-name="We Love Blocks" transform="translate(60.477 27.228)" fill="#707070" font-size="14" font-family="Silom"><tspan x="0" y="0">We Love Blocks</tspan></text></svg>
<a id="run_button" href="#">RUN </a>
<br/>
<br/>
<div id="codeEditor">
    <div id="blocklyDiv" style="height: 580; width: 30%;">

    </div>
    <pre id="code-container"><code id="generated-code" class="javascript"></code></pre>
    <canvas id="preview" width="650" height="580"> </canvas>
</div>
</div> 

<xml id="toolbox" style="display: none">
    <category id="catLogic" colour="210" name="Logic">
      <block type="controls_if"></block>
      <block type="logic_compare"></block>
      <block type="logic_operation"></block>
      <block type="logic_negate"></block>
      <block type="logic_boolean"></block>
      <block type="logic_null"></block>
      <block type="logic_ternary"></block>
    </category>
    <category id="catLoops" colour="120" name="Loops">
      <block type="controls_repeat_ext">
        <value name="TIMES">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
      </block>
      <block type="controls_whileUntil"></block>
      <block type="controls_for">
        <value name="FROM">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="TO">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
        <value name="BY">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      <block type="controls_forEach"></block>
      <block type="controls_flow_statements"></block>
    </category>
    <category id="catMath" colour="230" name="Math">
      <block type="math_number"></block>
      <block type="math_arithmetic">
        <value name="A">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="B">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      <block type="math_single">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">9</field>
          </shadow>
        </value>
      </block>
      <block type="math_trig">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">45</field>
          </shadow>
        </value>
      </block>
      <block type="math_constant"></block>
      <block type="math_number_property">
        <value name="NUMBER_TO_CHECK">
          <shadow type="math_number">
            <field name="NUM">0</field>
          </shadow>
        </value>
      </block>
      <block type="math_change">
        <value name="DELTA">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      <block type="math_round">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">3.1</field>
          </shadow>
        </value>
      </block>
      <block type="math_on_list"></block>
      <block type="math_modulo">
        <value name="DIVIDEND">
          <shadow type="math_number">
            <field name="NUM">64</field>
          </shadow>
        </value>
        <value name="DIVISOR">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
      </block>
      <block type="math_constrain">
        <value name="VALUE">
          <shadow type="math_number">
            <field name="NUM">50</field>
          </shadow>
        </value>
        <value name="LOW">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="HIGH">
          <shadow type="math_number">
            <field name="NUM">100</field>
          </shadow>
        </value>
      </block>
      <block type="math_random_int">
        <value name="FROM">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="TO">
          <shadow type="math_number">
            <field name="NUM">100</field>
          </shadow>
        </value>
      </block>
      <block type="math_random_float"></block>
    </category>
    <category id="catText" colour="160" name="Text">
      <block type="text"></block>
      <block type="text_join"></block>
      <block type="text_append">
        <value name="TEXT">
          <shadow type="text"></shadow>
        </value>
      </block>
      <block type="text_length">
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_isEmpty">
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT"></field>
          </shadow>
        </value>
      </block>
      <block type="text_indexOf">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">text</field>
          </block>
        </value>
        <value name="FIND">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_charAt">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">text</field>
          </block>
        </value>
      </block>
      <block type="text_getSubstring">
        <value name="STRING">
          <block type="variables_get">
            <field name="VAR">text</field>
          </block>
        </value>
      </block>
      <block type="text_changeCase">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_trim">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_print">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_prompt_ext">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
    </category>
    <category id="catLists" colour="260" name="Lists">
      <block type="lists_create_with">
        <mutation items="0"></mutation>
      </block>
      <block type="lists_create_with"></block>
      <block type="lists_repeat">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">5</field>
          </shadow>
        </value>
      </block>
      <block type="lists_length"></block>
      <block type="lists_isEmpty"></block>
      <block type="lists_indexOf">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">list</field>
          </block>
        </value>
      </block>
      <block type="lists_getIndex">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">list</field>
          </block>
        </value>
      </block>
      <block type="lists_setIndex">
        <value name="LIST">
          <block type="variables_get">
            <field name="VAR">list</field>
          </block>
        </value>
      </block>
      <block type="lists_getSublist">
        <value name="LIST">
          <block type="variables_get">
            <field name="VAR">list</field>
          </block>
        </value>
      </block>
      <block type="lists_split">
        <value name="DELIM">
          <shadow type="text">
            <field name="TEXT">,</field>
          </shadow>
        </value>
      </block>
      <block type="lists_sort"></block>
    </category>
    <sep></sep>
    <category colour="330" name="Actions">
        <block type="move_block"></block> 
    </category> 
     
    <sep></sep>
    <category id="catVariables" colour="330" custom="VARIABLE" name="Variables"></category>
    <category id="catFunctions" colour="290" custom="PROCEDURE" name="Functions"></category>
  </xml>



<%= javascript_pack_tag 'game', 'data-turbolinks-track': 'reload' %>